<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Cadastro + Pagamento</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white flex items-center justify-center min-h-screen">

  <!-- Botão de abrir o modal -->
  <button id="openModalBtn" class="px-6 py-3 bg-indigo-600 hover:bg-indigo-700 rounded-xl text-white font-semibold shadow-lg">
    Assinar Agora
  </button>

  <!-- Modal -->
  <div id="modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50">
    <div class="bg-gray-800 w-full max-w-xl p-6 rounded-xl relative shadow-2xl">
      
      <!-- Botão de fechar -->
      <button id="closeModalBtn" class="absolute top-3 right-3 text-gray-400 hover:text-white text-2xl font-bold">&times;</button>

      <h2 class="text-2xl font-bold mb-4 text-center">Cadastro e Pagamento</h2>

      <form id="cadastro-form" class="space-y-4">
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label for="nome" class="block text-sm mb-1">Nome</label>
            <input type="text" id="nome" class="w-full px-4 py-2 rounded bg-gray-700 border border-gray-600 focus:border-indigo-400" required />
          </div>
          <div>
            <label for="sobrenome" class="block text-sm mb-1">Sobrenome</label>
            <input type="text" id="sobrenome" class="w-full px-4 py-2 rounded bg-gray-700 border border-gray-600 focus:border-indigo-400" required />
          </div>
        </div>

        <div class="grid grid-cols-3 gap-4">
          <div>
            <label for="idade" class="block text-sm mb-1">Idade</label>
            <input type="number" id="idade" min="0" class="w-full px-4 py-2 rounded bg-gray-700 border border-gray-600 focus:border-indigo-400" required />
          </div>
          <div class="col-span-2">
            <label for="genero" class="block text-sm mb-1">Gênero</label>
            <select id="genero" class="w-full px-4 py-2 rounded bg-gray-700 border border-gray-600 focus:border-indigo-400" required>
              <option value="">Selecione</option>
              <option value="masculino">Masculino</option>
              <option value="feminino">Feminino</option>
              <option value="outro">Outro</option>
            </select>
          </div>
        </div>

        <div>
          <label for="email" class="block text-sm mb-1">Email</label>
          <input type="email" id="email" class="w-full px-4 py-2 rounded bg-gray-700 border border-gray-600 focus:border-indigo-400" required />
        </div>

        <div>
          <label for="senha" class="block text-sm mb-1">Senha</label>
          <input type="password" id="senha" class="w-full px-4 py-2 rounded bg-gray-700 border border-gray-600 focus:border-indigo-400" required />
        </div>

        <hr class="my-4 border-gray-600" />

        <h3 class="text-xl font-semibold mb-2">Método de Pagamento</h3>

        <div class="flex flex-col gap-3 md:flex-row md:gap-4 mb-4">
          <button type="button" id="cartaoBtn" class="flex-1 py-2 rounded bg-indigo-600 hover:bg-indigo-700 font-semibold">
            Cartão de Crédito
          </button>
          <button type="button" id="pixBtn" class="flex-1 py-2 rounded bg-green-600 hover:bg-green-700 font-semibold">
            Pix
          </button>
          <button type="button" id="paypalBtn" class="flex-1 py-2 rounded bg-yellow-500 hover:bg-yellow-600 font-semibold text-gray-900">
            PayPal
          </button>
        </div>

        <!-- Área de cartão (visível apenas se selecionado) -->
        <div id="cartaoFields" class="space-y-4">
          <div>
            <label for="numero-cartao" class="block text-sm mb-1">Número do Cartão</label>
            <input type="text" id="numero-cartao" maxlength="19" placeholder="1234 5678 9012 3456" class="w-full px-4 py-2 rounded bg-gray-700 border border-gray-600 focus:border-indigo-400" />
          </div>

          <div class="grid grid-cols-2 gap-4">
            <div>
              <label for="vencimento" class="block text-sm mb-1">Validade (MM/AA)</label>
              <input type="text" id="vencimento" placeholder="08/29" class="w-full px-4 py-2 rounded bg-gray-700 border border-gray-600 focus:border-indigo-400" />
            </div>
            <div>
              <label for="cvv" class="block text-sm mb-1">CVV</label>
              <input type="text" id="cvv" maxlength="4" placeholder="123" class="w-full px-4 py-2 rounded bg-gray-700 border border-gray-600 focus:border-indigo-400" />
            </div>
          </div>
        </div>

        <button type="submit" class="w-full py-2 bg-green-600 hover:bg-green-700 rounded font-semibold mt-4">
          Finalizar Cadastro e Pagar
        </button>
      </form>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    const openModalBtn = document.getElementById('openModalBtn');
    const closeModalBtn = document.getElementById('closeModalBtn');
    const modal = document.getElementById('modal');

    const cartaoBtn = document.getElementById('cartaoBtn');
    const pixBtn = document.getElementById('pixBtn');
    const paypalBtn = document.getElementById('paypalBtn');
    const cartaoFields = document.getElementById('cartaoFields');

    let metodoSelecionado = 'cartao';

    function mostrarMetodo(metodo) {
      metodoSelecionado = metodo;
      cartaoFields.style.display = (metodo === 'cartao') ? 'block' : 'none';
    }

    openModalBtn.addEventListener('click', () => {
      modal.classList.remove('hidden');
    });

    closeModalBtn.addEventListener('click', () => {
      modal.classList.add('hidden');
    });

    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.classList.add('hidden');
      }
    });

    cartaoBtn.addEventListener('click', () => mostrarMetodo('cartao'));
    pixBtn.addEventListener('click', () => mostrarMetodo('pix'));
    paypalBtn.addEventListener('click', () => mostrarMetodo('paypal'));

    // Iniciar com cartão visível
    mostrarMetodo('cartao');

    // Envio do formulário (simulado)
    document.getElementById('cadastro-form').addEventListener('submit', function (e) {
      e.preventDefault();

      const dados = {
        nome: document.getElementById('nome').value,
        sobrenome: document.getElementById('sobrenome').value,
        idade: document.getElementById('idade').value,
        genero: document.getElementById('genero').value,
        email: document.getElementById('email').value,
        senha: document.getElementById('senha').value,
        metodoPagamento: metodoSelecionado
      };

      if (metodoSelecionado === 'cartao') {
        dados.numeroCartao = document.getElementById('numero-cartao').value;
        dados.vencimento = document.getElementById('vencimento').value;
        dados.cvv = document.getElementById('cvv').value;
      }

      console.log("Dados recebidos:", dados);
      alert(`Cadastro concluído com método: ${metodoSelecionado.toUpperCase()}`);
      modal.classList.add('hidden');
    });
  </script>
</body>
</html>
